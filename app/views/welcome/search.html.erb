<!-- Pato will make this look pretty

This is the search results page. This will
show the list of neighborhoods near the
address that was input by the user, but for the demo
we will use pre seeded neighborhoods so we do not
need to parse the data they input. There will be
a list of neighborhoods on the left and a fake
Google Maps image on the right. If we want, we can
populate with addresses.

-->

<script src="//maps.google.com/maps/api/js?v=3.13&sensor=false&libraries=geometry" type="text/javascript"></script>
<script src="//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js" type="text/javascript"></script>
<%= render partial:'navbar'%>
<br>
<br>
<br>
<h2>There are <%= @neighborhoods.count %> neighborhoods in your area</h2>
<br />

<div class='backDiv'></div>
<div class="background-div">  
</div>

<div class="col-sm-4">
  <% @neighborhoods.each do |n| %>
    <div class="row">
      <%= render n %>
    </div>
  <% end %>

  <p>Can't find your neighborhood? <%= button_to 'Create Neighborhood', {}, class: 'btn btn-primary' %></p>
</div>

<div id="map" class="col-sm-offset-1 col-sm-5"></div>

<script type="text/javascript">
  handler = Gmaps.build('Google');
  handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
    markers = handler.addMarkers(<%=raw @hash.to_json %>);
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
  });
</script>
